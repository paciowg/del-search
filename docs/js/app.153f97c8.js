(function(e){function t(t){for(var n,u,i=t[0],o=t[1],c=t[2],p=0,f=[];p<i.length;p++)u=i[p],a[u]&&f.push(a[u][0]),a[u]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==a[o]&&(n=!1)}n&&(s.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={app:0},s=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/del-search/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"07bb":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"max-w-5xl mx-auto"},[r("router-view")],1)])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"bg-blue-700 text-white text-xl p-3"},[r("h1",[e._v("DEL FHIR Search")])])}],u=(r("713e"),r("b0a0"),r("2877")),i={},o=Object(u["a"])(i,a,s,!1,null,null,null),c=o.exports,l=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{staticClass:"text-center",on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[r("label",{staticClass:"block tablet:inline",attrs:{for:"search-text-input"}},[e._v("Search by ID or Text:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"input",attrs:{id:"search-text-input",type:"text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),r("button",{staticClass:"button",attrs:{type:"submit",disabled:e.loading}},[e.loading?[r("i",{staticClass:"fas fa-spinner fa-spin"})]:[e._v("Search")]],2)]),e.searched&&e.results.length?r("section",[r("table",[e._m(0),e._l(e.results,function(t){return r("tr",{key:t.id},[r("td",{staticClass:"whitespace-no-wrap"},[r("router-link",{attrs:{to:{name:"detail",params:{id:t.id}}}},[e._v(e._s(t.id))])],1),r("td",[e._v(e._s(t.title))])])})],2)]):e._e(),e.searched&&!e.results.length?r("section",{staticClass:"text-center"},[e._v("No results found.")]):e._e()])},f=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v("ID")]),r("th",[e._v("Title")])])}],d=(r("386d"),r("96cf"),r("3b8d")),h=(r("7514"),r("b54a"),r("bc3a")),m=r.n(h),v=Object({NODE_ENV:"production",BASE_URL:"/del-search/"}).FHIR_URL||"https://api.logicahealth.org/PACIO/open/",_={search:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(v,"/Measure"),{params:{"description:contains":t.text}});case 2:if(r=e.sent,!r.data||"Bundle"!==r.data.resourceType||!r.data.entry){e.next=9;break}return n=[],r.data.link&&(a=r.data.link.find(function(e){return"next"===e.relation})),console.log("nextPage",a),n.push(),e.abrupt("return",r.data.entry.map(function(e){return e.resource}));case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getById:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(v,"/Measure/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},b={measure:_},g={text:"",searched:!1,loading:!1,results:[]},x={data:function(){return g},methods:{formSubmit:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,this.searched=!1,e.next=4,b.measure.search({text:this.text});case 4:t=e.sent,this.results=t,this.loading=!1,this.searched=!0;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},w=x,y=Object(u["a"])(w,p,f,!1,null,null,null),O=y.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",[r("router-link",{attrs:{to:{name:"home"}}},[r("i",{staticClass:"fas fa-chevron-left"}),e._v("\n      Back to Search\n    ")])],1),e.measure?r("section",[r("table",[r("tr",[r("th",[e._v("Item ID")]),r("td",[e._v(e._s(e.measure.id))])]),r("tr",[r("th",[e._v("Short Name")]),r("td",[e._v(e._s(e.measure.title))])]),r("tr",[r("th",[e._v("Text")]),r("td",[e._v(e._s(e.measure.description))])]),r("tr",[r("th",[e._v("Status")]),r("td",[e._v(e._s(e.titleCase(e.measure.status)))])])])]):e._e(),e.answerSets?e._l(e.answerSets,function(t,n){return r("section",{key:n},[r("h2",{staticClass:"text-lg font-bold"},[e._v(e._s(n))]),r("table",[e._m(0,!0),e._l(t,function(t){return r("tr",{key:t.label},[r("td",[e._v(e._s(t.label))]),r("td",[e._v(e._s(t.display))])])})],2)])}):e._e()],2)},j=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v("Label")]),r("th",[e._v("Display")])])}],k=(r("f559"),r("28a5"),r("e831")),C=r.n(k),R={props:{id:{type:String,required:!0}},data:function(){return{measure:null,answerSets:null}},created:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMeasure();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{titleCase:function(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},getMeasure:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.measure.getById(this.id);case 2:t=e.sent,this.measure=t,r=(this.measure.relatedArtifact||[]).filter(function(e){return"documentation"===e.type&&e.resource&&e.resource.startsWith("Library/Questionnaire")}),r.length&&(this.answerSets=C()(r,"resource"));case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},E=R,I=Object(u["a"])(E,S,j,!1,null,null,null),P=I.exports;n["a"].use(l["a"]);var M=new l["a"]({routes:[{path:"/",name:"home",component:O},{path:"/:id",name:"detail",component:P,props:!0}]});n["a"].config.productionTip=!1,new n["a"]({router:M,render:function(e){return e(c)}}).$mount("#app")},b0a0:function(e,t,r){"use strict";var n=r("07bb"),a=r.n(n);a.a}});
//# sourceMappingURL=app.153f97c8.js.map