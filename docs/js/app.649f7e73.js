(function(e){function t(t){for(var n,u,i=t[0],c=t[1],o=t[2],p=0,h=[];p<i.length;p++)u=i[p],a[u]&&h.push(a[u][0]),a[u]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(h.length)h.shift()();return s.push.apply(s,o||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={app:0},s=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/del-search/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"07bb":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"max-w-5xl mx-auto"},[r("router-view")],1)])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"bg-blue-700 text-white text-xl p-3"},[r("h1",[e._v("DEL FHIR Search")])])}],u=(r("713e"),r("b0a0"),r("2877")),i={},c=Object(u["a"])(i,a,s,!1,null,null,null),o=c.exports,l=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{staticClass:"text-center",on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[r("label",{staticClass:"block tablet:inline",attrs:{for:"search-text-input"}},[e._v("Search by ID or Text:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"input",attrs:{id:"search-text-input",type:"text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),r("button",{staticClass:"button w-24",attrs:{type:"submit",disabled:e.loading}},[e.loading?[r("i",{staticClass:"fas fa-spinner fa-spin"})]:[e._v("Search")]],2)]),e.loading?r("section",{staticClass:"text-center"},[e._v("Found "+e._s(e.total)+" results so far...")]):e._e(),e.searched&&e.results.length?r("section",[r("table",[e._m(0),e._l(e.results,function(t){return r("tr",{key:t.id},[r("td",{staticClass:"whitespace-no-wrap"},[r("router-link",{attrs:{to:{name:"detail",params:{id:t.id}}}},[e._v(e._s(t.id))])],1),r("td",[e._v(e._s(t.title))])])})],2)]):e._e(),e.searched&&!e.results.length?r("section",{staticClass:"text-center"},[e._v("No results found.")]):e._e()])},h=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v("ID")]),r("th",[e._v("Title")])])}],f=(r("386d"),r("96cf"),r("3b8d")),d=r("013f"),v=r("bd86"),b=r("75fc"),m=(r("7514"),r("b54a"),r("d225")),_=r("b0b4"),g=r("308d"),y=r("6bb5"),w=r("4e2b"),x=r("bc3a"),O=r.n(x),j=r("faa1"),k=Object({NODE_ENV:"production",BASE_URL:"/del-search/"}).FHIR_URL||"https://api.logicahealth.org/PACIO/open/",R=function(e){function t(){return Object(m["a"])(this,t),Object(g["a"])(this,Object(y["a"])(t).apply(this,arguments))}return Object(w["a"])(t,e),Object(_["a"])(t,[{key:"_getAllResourcesFromBundle",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s,u,i,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,O.a.get(t,{params:r});case 3:if(n=e.sent,a=n.data,!a||"Bundle"!==a.resourceType||!a.entry){e.next=15;break}if(s=a.entry.map(function(e){return e.resource}),this.emit("count",s.length),a.link&&(u=a.link.find(function(e){return"next"===e.relation})),!u){e.next=14;break}return e.next=12,this._getAllResourcesFromBundle(u.url);case 12:i=e.sent,s.push.apply(s,Object(b["a"])(i));case 14:return e.abrupt("return",s);case 15:return e.abrupt("return",[]);case 16:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"_searchResource",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},t._count=50,e.abrupt("return",this._getAllResourcesFromBundle("".concat(k,"/").concat(this.resourceType),t));case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_getById",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(k,"/").concat(this.resourceType,"/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(j["EventEmitter"]),S=function(e){function t(){var e,r;Object(m["a"])(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Object(g["a"])(this,(e=Object(y["a"])(t)).call.apply(e,[this].concat(a))),Object(v["a"])(Object(d["a"])(r),"resourceType","Measure"),r}return Object(w["a"])(t,e),Object(_["a"])(t,[{key:"search",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._searchResource({"description:contains":t.text}));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getById",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getById(t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(R),C={Measure:S},E={text:"",searched:!1,loading:!1,total:0,results:[]},I={data:function(){return E},methods:{formSubmit:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,this.searched=!1,this.total=0,t=new C.Measure,t.on("count",function(e){return n.total+=e}),e.next=9,t.search({text:this.text});case 9:r=e.sent,this.results=r,this.loading=!1,this.searched=!0;case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},B=I,M=Object(u["a"])(B,p,h,!1,null,null,null),T=M.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",[r("router-link",{attrs:{to:{name:"home"}}},[r("i",{staticClass:"fas fa-chevron-left"}),e._v("\n      Back to Search\n    ")])],1),e.measure?r("section",[r("table",[r("tr",[r("th",[e._v("Item ID")]),r("td",[e._v(e._s(e.measure.id))])]),r("tr",[r("th",[e._v("Short Name")]),r("td",[e._v(e._s(e.measure.title))])]),r("tr",[r("th",[e._v("Text")]),r("td",[e._v(e._s(e.measure.description))])]),r("tr",[r("th",[e._v("Status")]),r("td",[e._v(e._s(e.titleCase(e.measure.status)))])])])]):e._e(),e.answerSets?e._l(e.answerSets,function(t,n){return r("section",{key:n},[r("h2",{staticClass:"text-lg font-bold"},[e._v(e._s(n))]),r("table",[e._m(0,!0),e._l(t,function(t){return r("tr",{key:t.label},[r("td",{staticClass:"w-32"},[e._v(e._s(t.label))]),r("td",[e._v("\n            "+e._s(t.display)+"\n            "),t.url?r("span",[r("br"),r("a",{attrs:{href:t.url,target:"loinc"}},[e._v(e._s(t.url))])]):e._e()])])})],2)])}):e._e()],2)},P=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v("Label")]),r("th",[e._v("Display")])])}],D=(r("f559"),r("28a5"),r("e831")),$=r.n(D),F={props:{id:{type:String,required:!0}},data:function(){return{measure:null,answerSets:null}},created:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMeasure();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{titleCase:function(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},getMeasure:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new C.Measure,e.next=3,t.getById(this.id);case 3:r=e.sent,this.measure=r,n=(this.measure.relatedArtifact||[]).filter(function(e){return"documentation"===e.type&&e.resource&&e.resource.startsWith("Library/Questionnaire")}),n.length&&(this.answerSets=$()(n,"resource"));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},L=F,N=Object(u["a"])(L,A,P,!1,null,null,null),U=N.exports;n["a"].use(l["a"]);var H=new l["a"]({routes:[{path:"/",name:"home",component:T},{path:"/:id",name:"detail",component:U,props:!0}]});n["a"].config.productionTip=!1,new n["a"]({router:H,render:function(e){return e(o)}}).$mount("#app")},b0a0:function(e,t,r){"use strict";var n=r("07bb"),a=r.n(n);a.a}});
//# sourceMappingURL=app.649f7e73.js.map